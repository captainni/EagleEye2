import{d as b,c as a,a as t,t as i,b as d,F as u,l as c,e as f,w as g,r as _,o as r,n as v,m as x,j as h,u as w,f as k,A as C}from"./index-095c05da.js";import{N as D}from"./axios-c1489369.js";import{_ as T,d as $}from"./defaultData-fb71e1fd.js";import{a as N}from"./competitor-7629975a.js";import"./request-211124dc.js";const B={class:"bg-white rounded-lg shadow-sm p-8"},L={class:"mb-6 pb-4 border-b border-gray-200"},M={class:"text-2xl font-semibold text-gray-800 mb-3"},H={class:"flex items-center text-sm text-gray-500 space-x-4 mb-3"},A={class:"flex flex-wrap gap-2"},V={class:"mb-8 p-4 bg-orange-50 border-l-4 border-warning rounded-r-md"},j={class:"list-disc list-inside space-y-1 text-sm text-gray-700"},F=["innerHTML"],I={class:"mb-6"},R=["innerHTML"],S={class:"flex space-x-4 mt-2"},q=["src","alt"],z={class:"flex justify-end space-x-3 mt-8 pt-4 border-t border-gray-200"},E=b({__name:"CompetitorDetail",props:{competitor:{}},setup(y){const m=()=>{alert("需求已成功转化！")};return(s,e)=>{const p=_("router-link");return r(),a("div",B,[t("div",L,[t("h2",M,i(s.competitor.title),1),t("div",H,[t("span",null,[e[0]||(e[0]=t("i",{class:"fas fa-building mr-1"},null,-1)),d(" 竞品："+i(s.competitor.company),1)]),t("span",null,[e[1]||(e[1]=t("i",{class:"fas fa-tags mr-1"},null,-1)),d(" 类型："+i(s.competitor.type),1)]),t("span",null,[e[2]||(e[2]=t("i",{class:"fas fa-clock mr-1"},null,-1)),d(" 捕获时间："+i(s.competitor.captureTime),1)])]),t("div",A,[(r(!0),a(u,null,c(s.competitor.tags,(l,o)=>(r(),a("span",{key:o,class:v(["px-2 py-0.5 text-xs font-medium rounded-full",`bg-${l.color}-100 text-${l.color}-600`])},i(l.label),3))),128))])]),t("div",V,[e[3]||(e[3]=t("h4",{class:"text-base font-semibold text-warning mb-2"},"分析摘要与建议：",-1)),t("ul",j,[(r(!0),a(u,null,c(s.competitor.analysisAndSuggestions,(l,o)=>(r(),a("li",{key:o,innerHTML:l},null,8,F))),128))])]),t("div",I,[e[4]||(e[4]=t("h4",{class:"text-base font-semibold text-gray-700 mb-3"},"相关信息/原文链接：",-1)),t("div",{class:"prose prose-sm max-w-none text-gray-600 leading-relaxed border border-gray-200 rounded-md p-4",innerHTML:s.competitor.relatedInfo},null,8,R),t("div",S,[(r(!0),a(u,null,c(s.competitor.screenshots,(l,o)=>(r(),a("img",{key:o,src:l,alt:`截图 ${o+1}`,class:"rounded border border-gray-300"},null,8,q))),128))])]),t("div",z,[f(p,{to:{name:"CompetitorTracking"},class:"!rounded-button px-4 py-2 border border-gray-300 text-gray-600 hover:border-primary hover:text-primary text-sm whitespace-nowrap"},{default:g(()=>e[5]||(e[5]=[t("i",{class:"fas fa-arrow-left mr-1"},null,-1),d(" 返回列表 ")])),_:1}),t("button",{class:"!rounded-button px-4 py-2 bg-primary text-white text-sm whitespace-nowrap hover:bg-primary/90",onClick:m},e[6]||(e[6]=[t("i",{class:"fas fa-exchange-alt mr-1"},null,-1),d(" 转为需求 ")]))])])}}});const P={class:"max-w-[1200px] mx-auto px-6 pt-24 pb-12"},U={key:0,class:"text-center py-12"},G={key:2,class:"text-center py-12"},X=b({__name:"CompetitorDetailPage",setup(y){const m=C(),s=x(null),e=x(!0),p=$,l=async()=>{const o=m.params.id;if(!o){console.error("未能从路由获取竞品ID"),e.value=!1;return}e.value=!0;try{const n=await N(Number(o));s.value=n}catch(n){console.error("获取竞品详情失败:",n),s.value=null}finally{e.value=!1}};return h(()=>{l()}),(o,n)=>(r(),a("div",null,[f(D,{"active-menu":"/competitor-tracking",user:w(p)},null,8,["user"]),t("main",P,[e.value?(r(),a("div",U,n[0]||(n[0]=[t("i",{class:"fas fa-spinner fa-spin text-gray-300 text-4xl mb-4"},null,-1),t("p",{class:"text-gray-500"},"加载中...",-1)]))):s.value?(r(),k(E,{key:1,competitor:s.value},null,8,["competitor"])):(r(),a("div",G,n[1]||(n[1]=[t("i",{class:"fas fa-exclamation-circle text-red-300 text-4xl mb-4"},null,-1),t("p",{class:"text-red-500"},"加载竞品详情失败",-1)])))]),f(T,{copyright:"© 2024 金融资讯智能跟踪平台. All rights reserved."})]))}});export{X as default};
